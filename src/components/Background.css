/* Animated background scene: gradient, blobs, subtle grid and noise */

.bg-scene {
  position: fixed;
  inset: 0;
  z-index: -1;
  overflow: hidden;
  pointer-events: none;
}

/* Animated gradient background */
.bg-gradient {
  position: absolute;
  inset: -20% -20% -20% -20%;
  background: radial-gradient(40% 40% at 20% 20%, rgba(124, 58, 237, 0.35), transparent 60%),
              radial-gradient(35% 35% at 80% 20%, rgba(6, 182, 212, 0.35), transparent 60%),
              radial-gradient(45% 45% at 50% 80%, rgba(34, 211, 238, 0.25), transparent 60%),
              linear-gradient(180deg, var(--bg-elev-1), var(--bg));
  filter: saturate(110%);
  animation: gradientShift 22s var(--easing) infinite alternate, hueRotate 40s linear infinite;
  will-change: transform;
}

@keyframes gradientShift {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(1.5%, -1.5%, 0) scale(1.02); }
  100% { transform: translate3d(-1%, 1%, 0) scale(1.01); }
}
@keyframes hueRotate { from { filter: hue-rotate(0deg) saturate(110%); } to { filter: hue-rotate(360deg) saturate(110%); } }

/* Organic animated blobs */
.bg-blobs .blob {
  position: absolute;
  width: 42vmax;
  height: 42vmax;
  border-radius: 50%;
  filter: blur(60px) saturate(120%);
  opacity: 0.28;
  mix-blend-mode: screen;
}
.blob-1 { background: var(--accent-2); top: 10vh; left: -10vw; animation: float1 28s ease-in-out infinite; }
.blob-2 { background: var(--accent-1); bottom: -8vh; right: -8vw; animation: float2 32s ease-in-out infinite; }
.blob-3 { background: var(--brand-1); top: 40vh; right: 20vw; animation: float3 36s ease-in-out infinite; opacity: 0.18; }

@keyframes float1 { 0% { transform: translate(0,0) scale(1);} 50% { transform: translate(8%, -6%) scale(1.06);} 100% { transform: translate(-4%, 4%) scale(1);} }
@keyframes float2 { 0% { transform: translate(0,0) scale(1);} 50% { transform: translate(-6%, 6%) scale(1.05);} 100% { transform: translate(4%, -3%) scale(1);} }
@keyframes float3 { 0% { transform: translate(0,0) scale(1);} 50% { transform: translate(5%, -4%) scale(1.04);} 100% { transform: translate(-3%, 2%) scale(1);} }

/* Subtle grid overlay for depth */
.grid-overlay {
  position: absolute;
  inset: 0;
  background-image: linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px);
  background-size: 40px 40px, 40px 40px;
  mask-image: radial-gradient(80% 60% at 50% 50%, black, transparent 90%);
}

/* Lightweight particles */
.particles { position: absolute; inset: 0; overflow: hidden; }
.particles::before, .particles::after {
  content: ""; position: absolute; inset: 0; background-repeat: repeat; pointer-events: none; opacity: 0.25;
}
.particles::before { background-image: radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.3), transparent), radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,0.25), transparent), radial-gradient(2px 2px at 80% 20%, rgba(255,255,255,0.18), transparent); animation: drift1 60s linear infinite; }
.particles::after { background-image: radial-gradient(1px 1px at 30% 80%, rgba(255,255,255,0.22), transparent), radial-gradient(1px 1px at 70% 40%, rgba(255,255,255,0.2), transparent); animation: drift2 90s linear infinite; }
@keyframes drift1 { from { transform: translateY(0); } to { transform: translateY(-10%); } }
@keyframes drift2 { from { transform: translateY(0); } to { transform: translateY(8%); } }

/* Fine noise for texture */
.bg-noise {
  position: absolute;
  inset: 0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.03"/></svg>');
  opacity: 0.18;
  mix-blend-mode: overlay;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .bg-gradient, .blob-1, .blob-2, .blob-3 { animation: none !important; }
}
